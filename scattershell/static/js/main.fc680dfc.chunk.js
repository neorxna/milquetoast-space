(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){},44:function(e,t,n){e.exports=n(63)},49:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a,r,o,l,i,c,s,u,d=n(0),m=n.n(d),f=n(34),h=n.n(f),g=(n(49),n(6)),p=n(67),b=n(70),O=(n(25),n(35)),v=n(13),j={Deep:"#121258",Med:"#5ba9ff",Shallow:"#7ccbff",Light:"#f3f1f1",Outline:"#000d16",Green:"#00b842",Disabled:"#8d8d8d",Gold:"#f1da37"},y=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return m.a.createElement(O.a,Object.assign({icon:e},n))},E={icons:{chevrondown:y(v.b),chevronright:y(v.c),More:y(v.d),Cancel:y(v.f),Plus:y(v.e),checkmark:y(v.a)}},w=n(1),S={Shellfish:"shellfish",Fish:"fish",Pigs:"pigs",Birds:"birds",BushFood:"bush food",Coconuts:"coconuts",RootVegetables:"root vegetables",PreciousShells:"precious shells",FreshWater:"fresh water",Flax:"flax",Bamboo:"bamboo",SturdyWood:"sturdy wood",FruitTrees:"fruit trees",Guano:"guano"},A=(a={},Object(w.a)(a,S.Shellfish,!1),Object(w.a)(a,S.Fish,!1),Object(w.a)(a,S.Pigs,!1),Object(w.a)(a,S.Birds,!1),Object(w.a)(a,S.BushFood,!1),Object(w.a)(a,S.Coconuts,!1),Object(w.a)(a,S.RootVegetables,!0),Object(w.a)(a,S.PreciousShells,!1),Object(w.a)(a,S.FreshWater,!1),Object(w.a)(a,S.Flax,!1),Object(w.a)(a,S.Bamboo,!1),Object(w.a)(a,S.SturdyWood,!1),Object(w.a)(a,S.FruitTrees,!0),Object(w.a)(a,S.Guano,!1),a),T=(r={},Object(w.a)(r,S.Shellfish,!1),Object(w.a)(r,S.Fish,!1),Object(w.a)(r,S.Pigs,!1),Object(w.a)(r,S.Birds,!1),Object(w.a)(r,S.BushFood,!1),Object(w.a)(r,S.Coconuts,!0),Object(w.a)(r,S.RootVegetables,!0),Object(w.a)(r,S.PreciousShells,!0),Object(w.a)(r,S.FreshWater,!1),Object(w.a)(r,S.Flax,!1),Object(w.a)(r,S.Bamboo,!1),Object(w.a)(r,S.SturdyWood,!0),Object(w.a)(r,S.FruitTrees,!1),Object(w.a)(r,S.Guano,!1),r),F=(o={},Object(w.a)(o,S.Shellfish,!1),Object(w.a)(o,S.Fish,!1),Object(w.a)(o,S.Pigs,!0),Object(w.a)(o,S.Birds,!1),Object(w.a)(o,S.BushFood,!1),Object(w.a)(o,S.Coconuts,!0),Object(w.a)(o,S.RootVegetables,!0),Object(w.a)(o,S.PreciousShells,!1),Object(w.a)(o,S.FreshWater,!1),Object(w.a)(o,S.Flax,!1),Object(w.a)(o,S.Bamboo,!1),Object(w.a)(o,S.SturdyWood,!1),Object(w.a)(o,S.FruitTrees,!0),Object(w.a)(o,S.Guano,!0),o),P=(l={},Object(w.a)(l,S.Shellfish,2),Object(w.a)(l,S.Fish,3),Object(w.a)(l,S.Pigs,2),Object(w.a)(l,S.Birds,1),Object(w.a)(l,S.BushFood,3),Object(w.a)(l,S.Coconuts,2),Object(w.a)(l,S.RootVegetables,1),Object(w.a)(l,S.PreciousShells,0),Object(w.a)(l,S.FreshWater,2),Object(w.a)(l,S.Flax,0),Object(w.a)(l,S.Bamboo,1),Object(w.a)(l,S.SturdyWood,0),Object(w.a)(l,S.FruitTrees,2),Object(w.a)(l,S.Guano,0),l),x=(i={},Object(w.a)(i,S.Shellfish,1),Object(w.a)(i,S.Fish,0),Object(w.a)(i,S.Pigs,1),Object(w.a)(i,S.Birds,1),Object(w.a)(i,S.BushFood,0),Object(w.a)(i,S.Coconuts,2),Object(w.a)(i,S.RootVegetables,0),Object(w.a)(i,S.PreciousShells,2),Object(w.a)(i,S.FreshWater,0),Object(w.a)(i,S.Flax,3),Object(w.a)(i,S.Bamboo,2),Object(w.a)(i,S.SturdyWood,2),Object(w.a)(i,S.FruitTrees,1),Object(w.a)(i,S.Guano,2),i),C=n(3),B="rocky",k="guano",N="small",G="medium",D="large",L=(c={},Object(w.a)(c,B,"You are disappointed to find an inhospitable outcrop of rocks in the middle of the ocean."),Object(w.a)(c,k,"This place is covered in guano, hospitable only to the many gulls that dwell here."),Object(w.a)(c,N,"You look out upon a modest but hospitable island."),Object(w.a)(c,G,"You are relieved to find a hospitable and plentiful island."),Object(w.a)(c,D,"You are thankful to the gods to find a massive volcanic island, capable of sustaining a large population."),c),M=(s={},Object(w.a)(s,B,"/island_types/rock_cropped.png"),Object(w.a)(s,k,"/island_types/gull3_cropped.png"),Object(w.a)(s,N,"/island_types/shells_cropped.png"),Object(w.a)(s,G,"/island_types/coconuts_cropped.png"),Object(w.a)(s,D,"/island_types/volcano_cropped.png"),s),W=(u={},Object(w.a)(u,B,0),Object(w.a)(u,k,5),Object(w.a)(u,N,10),Object(w.a)(u,G,25),Object(w.a)(u,D,50),u),R={Undeveloped:"undeveloped",Burgeoning:"burgeoning",Developed:"developed",HighlyDeveloped:"highly developed",Advanced:"advanced"},I=[["Morrigan","The Crook",16],["The Crook","Morrigan",16],["Morrigan","Great Arc",20],["Great Arc","Morrigan",20],["Fivestone","The Crook",14],["The Crook","Fivestone",14],["Shell Cove","Great Arc",12],["Great Arc","Shell Cove",12],["The Splinter","Great Arc",25],["Great Arc","The Splinter",25],["Great Arc","The Pip",40],["The Pip","The Splinter",15],["The Splinter","The Pip",15],["Afallon","The Splinter",22],["The Splinter","Afallon",22],["Brightreach","The Splinter",23],["The Splinter","Brightreach",23],["Afallon","The Pip",7],["The Pip","Afallon",7],["Brightreach","The Pip",13],["The Pip","Brightreach",13],["Birdstar","The Pip",25],["The Pip","Birdstar",25],["Brightreach","Afallon",12],["Afallon","Brightreach",12],["Old Crone","Birdstar",20],["Birdstar","Old Crone",20],["Gull's Rest","Shell Cove",22],["Shell Cove","Gull's Rest",22],["Mother","Shell Cove",28],["Shell Cove","Mother",28],["Elder","Shell Cove",30],["Shell Cove","Elder",30],["Younger","Mother",15],["Mother","Younger",15],["Father","Mother",10],["Mother","Father",10],["Twinstone","Mother",11],["Mother","Twinstone",11],["Obsidian Point","Gull's Rest",13],["Gull's Rest","Obsidian Point",13],["Last Hope","Obsidian Point",30],["Obsidian Point","Last Hope",30],["Island of Pearls","Obsidian Point",29],["Obsidian Point","Island of Pearls",29],["Island of Pearls","Last Hope",9],["Last Hope","Island of Pearls",9]],Y=function(e){return I.filter(function(t){var n=Object(g.a)(t,3),a=n[0];n[1],n[2];return e===a}).reduce(function(e,t){var n=Object(g.a)(t,3),a=(n[0],n[1]),r=n[2];return Object(C.a)({},e,Object(w.a)({},a,r))},{})},V=function(e,t,n,a,r){return{id:e,name:e,x:n,y:a,type:t,resources:r.map(function(e){return S[e]}),neighbours:Object.keys(Y(e)),neighbourDistance:Y(e)}},q={"Shell Cove":V("Shell Cove",N,63,49,["PreciousShells","Fish"]),"Great Arc":V("Great Arc",D,56,58,["Flax","Bamboo","BushFood","SturdyWood"]),Morrigan:V("Morrigan",G,46,75,["Fish","RootVegetables","BushFood","Flax"]),"The Crook":V("The Crook",N,34,87,["Shellfish","Fish","PreciousShells"]),Fivestone:V("Fivestone",B,23,93,[]),Elder:V("Elder",B,87,55,[]),Younger:V("Younger",k,95,48,["Guano","Birds"]),Mother:V("Mother",G,86,60,["Flax","Birds","PreciousShells","BushFood"]),Father:V("Father",G,95,60,["Bamboo","Fish","Pigs","SturdyWood"]),Twinstone:V("Twinstone",B,92,70,[]),Birdstar:V("Birdstar",k,40,30,["Guano","Birds"]),"Last Hope":V("Last Hope",D,97,8,["Shellfish","Birds","SturdyWood","FreshWater","FruitTrees"]),"Island of Pearls":V("Island of Pearls",N,98,18,["PreciousShells","Shellfish","Coconuts"]),"Obsidian Point":V("Obsidian Point",B,73,19,[]),"Gull's Rest":V("Gull's Rest",k,70,30,["Guano","Birds"]),"Old Crone":V("Old Crone",G,40,10,["Coconuts","RootVegetables","Pigs","BushFood"]),"The Splinter":V("The Splinter",B,33,55,[]),Afallon:V("Afallon",D,14,45,["FruitTrees","FreshWater","SturdyWood","Birds","Pigs"]),"The Pip":V("The Pip",N,22,47,["FruitTrees","Fish","SturdyWood"]),Brightreach:V("Brightreach",G,23,35,["PreciousShells","FreshWater","Flax","Shellfish"])};function _(e){var t=e.island,n=t.resources,a=(t.name,t.population),r=t.numGardens;return m.a.createElement("section",{className:"current-island-resources"},0===n.length?"Nothing to use.":m.a.createElement("ul",null,n.map(function(e){var n=P[e],o=x[e],l="".concat(n," food, ").concat(o," materials per day ").concat(r>0&&A[e]?"plus ".concat(r," food from gardens"):""),i=0===q[t.name].resources.filter(function(t){return t===e}).length,c=T[e],s=c&&a>=5?"\u2714":null,u=F[e];return m.a.createElement("li",{title:l,key:"".concat(e)},m.a.createElement("b",null,e)," ","\u2692\ufe0f".repeat(o)," ","\ud83e\udd5d".repeat(n)," ",r>0&&A[e]?"\ud83e\udd6c".repeat(r):"",c||u?m.a.createElement("ul",{className:"current-island-resources-details"},m.a.createElement("li",null,c?"- requires 5 people to gather":null,s),m.a.createElement("li",null,u?"- dispersible":null),m.a.createElement("li",null,i?"- was dispersed here":null),m.a.createElement("li",null,e===S.Guano?"- will provide bonus to garden":null)):null)})))}var H=n(8);function U(e,t,n,a){var r=t.player,o=t.islands[n].population,l=ne[e],i=null==a?null:o>=a?{met:!0,text:"".concat(a," people \u2714")}:{met:!1,text:"not enough people (need ".concat(a-o," more)")};return[].concat(Object(H.a)(function(e,t){var n=e.food,a=e.wood,r=e.energy,o=t["food\u0394"],l=t["wood\u0394"],i=t["energy\u0394"],c=n+o,s=a+l,u=r+i;return[null==o?null:c>=0?{met:!0,text:"".concat(-o," food \u2714")}:{met:!1,text:"not enough food (need ".concat(-c,")")},null==l?null:s>=0?{met:!0,text:"".concat(-l," materials \u2714")}:{met:!1,text:"not enough materials (need ".concat(-s,")")},null==i?null:u>=0?{met:!0,text:"".concat(-i," energy \u2714")}:{met:!1,text:"not enough energy (need ".concat(-u,")")}].filter(function(e){return null!=e})}(r,l)),[i]).filter(function(e){return null!=e})}function z(e,t,n,a){return function(r){var o=e.wood\u0394,l=e.food\u0394,i=e.energy\u0394,c=e.wind\u0394,s=r.player,u=r.islands,d=(r.world,s.wood),m=s.food,f=s.wind,h=s.energy,g=function(e,t){return e+t<0||void 0==t?e:e+t},p={wood:g(d,o),food:g(m,l),wind:Math.min(g(f,c),100),energy:g(h,i)},b=o&&p.wood===d||l&&p.food===m||c&&p.wind===f||i&&p.energy===h,O=Object(C.a)({},s,p||{}),v=void 0!=t&&!1===t(u),j=void 0==t?u:t(u);b||void 0==n||v||n();var y=Object(C.a)({},r,{player:O,islands:j});return b&&!a||v?r:y}}var J=function(e,t){return function(n){var a=n[e],r=t(a);return Object(C.a)({},n,Object(w.a)({},e,Object(C.a)({},a,r)))}};function Q(e,t){var n=t.toName,a=t.actionType,r=me[a];return z({},function(t){var o=t[n],l=t[e]||{scatterings:[],resources:[]},i=q[n],c=W[i.type],s=o.bonusPopulation,u=l.resources,d=s+c,m=o.population+r>=d,f=a===te.LaunchFleet?u.filter(function(e){return F[e]&&-1===o.resources.indexOf(e)}):[],h=f.length>0?ie(f):null,g=[].concat(Object(H.a)(o.resources),[h]).filter(function(e){return null!=e});return Object(C.a)({},t,Object(w.a)({},n,Object(C.a)({},o,{isDiscovered:!0,resources:g,scatterings:Object(H.a)(l.scatterings),population:m?o.population:o.population+r})))},null,!0)}var $,K,X=function(){return e=function(e){var t=e.day,n=e.dayOfWeek,a=e.weekOfYear,r=e.year;return{day:t+1,dayOfWeek:7===n?1:n+1,weekOfYear:52===a?1:7===n?a+1:a,year:52===a?r+1:r}},function(t){var n=t.world;return Object(C.a)({},t,{world:e(n)})};var e};function Z(e,t,n){var a=t.actionType,r=(t.toName,t.isBeginning),o=le[a].cost;return z(r?{}:o,r?function(e){return e}:function(t){var n=t[e],r=me[a];return!!(n.population>=r)&&Object(C.a)({},t,Object(w.a)({},e,Object(C.a)({},n,{population:n.population-r})))},n)}var ee,te={LaunchOutrigger:"launch outrigger",LaunchFleet:"launch fleet",AddPerson:"new child",AddDwelling:"build dwelling",AddSettlement:"raise settlement",AddGarden:"plant garden",AddTemple:"build temple",SpendEnergy:"accept offerings"},ne=($={},Object(w.a)($,te.LaunchOutrigger,{"wood\u0394":-25,"food\u0394":-50,"energy\u0394":-10}),Object(w.a)($,te.LaunchFleet,{"wood\u0394":-100,"food\u0394":-200,"energy\u0394":-20}),Object(w.a)($,te.AddPerson,{"food\u0394":-50,"energy\u0394":-25}),Object(w.a)($,te.AddDwelling,{"wood\u0394":-100}),Object(w.a)($,te.AddSettlement,{"wood\u0394":-250}),Object(w.a)($,te.AddGarden,{"wood\u0394":-500}),Object(w.a)($,te.AddTemple,{"wood\u0394":-1e3,"food\u0394":-1e3,"energy\u0394":-100}),$),ae=function(e,t){var n=t.toName,a=t.numPeople,r=(t.actionType,t.destinationIsDiscovered),o=q[n],l=o.type===B,i=r?"The voyage disembarked safely.":"A ".concat(o.type," island was discovered!"),c="An inhospitable outcrop of rocks was encountered. The ".concat(a," voyagers perished.");return"The voyage from ".concat(e," arrived at ").concat(n,". ").concat(l?c:i)},re=function(e){var t=e.fromName,n=e.toName;return e.isBeginning?10:10*q[t].neighbourDistance[n]},oe=function(e){e.actionType;var t=e.destinationIsDiscovered,n=e.fromName,a=e.toName;return e.isBeginning?"Voyage to ".concat(a):"Voyage from ".concat(n," to ").concat(t?a:"a rumored land")},le=(K={},Object(w.a)(K,te.SpendEnergy,{text:"accept offerings",beginStateChange:function(e,t,n){return function(t){var n=t.player,a=q[e].resources,r=n.energy,o=n.food,l=n.wood,i=a.reduce(function(e,t){return e+P[t]},0),c=a.reduce(function(e,t){return e+x[t]},0),s=Object(C.a)({},n,{food:o+i*r,wood:l+c*r,energy:0});return Object(C.a)({},t,{player:s})}},endStateChange:function(){},finishMessage:function(){},emoji:"\u26a1",validate:function(){return[{met:!0}]},getDuration:function(){},getName:function(){}}),Object(w.a)(K,te.LaunchOutrigger,{text:"launch outrigger",beginStateChange:Z,endStateChange:Q,finishMessage:ae,emoji:"\u26f5",cost:ne[te.LaunchOutrigger],validate:function(e,t,n){return U(te.LaunchOutrigger,e,t,2)},getDuration:re,getName:oe}),Object(w.a)(K,te.LaunchFleet,{text:"launch fleet",beginStateChange:Z,endStateChange:Q,finishMessage:ae,emoji:"\u26f5",cost:ne[te.LaunchFleet],validate:function(e,t,n){return n.isBeginning?[{met:!0}]:U(te.LaunchFleet,e,t,5)},getDuration:re,getName:oe}),Object(w.a)(K,te.AddPerson,{text:"spawn person",beginStateChange:function(e,t,n){return z(ne[te.AddPerson],function(t){var n=t[e],a=n.population,r=n.bonusPopulation,o=n.hasSettlement,l=q[e];return!(a===r+W[l.type]||!o)&&t},n)},endStateChange:function(e){return z({},J(e,function(e){return{population:e.population+1}}))},emoji:"\ud83d\udc76",finishMessage:function(e,t){return"a child was born in ".concat(e,"!")},cost:ne[te.AddPerson],validate:function(e,t){var n=e.islands[t],a=n.type,r=n.population===W[a];return[].concat(Object(H.a)(U(te.AddPerson,e,t)),[{met:!r,text:r?"max population reached":""}])},getDuration:function(){return 20},getName:function(e){return"person"}}),Object(w.a)(K,te.AddDwelling,{text:"build dwelling",emoji:"\ud83c\udfe0",cost:ne[te.AddDwelling],beginStateChange:function(e,t,n){return z(ne[te.AddDwelling],function(t){var n=t[e],a=n.numDwellings,r=n.hasSettlement;return!(a===ge||!r)&&t},n)},endStateChange:function(e){return z({},J(e,function(e){return{numDwellings:e.numDwellings+1,bonusPopulation:e.bonusPopulation+5}}))},finishMessage:function(e,t){return"a dwelling was built in ".concat(e,"!")},validate:function(e,t){var n=e.islands[t].numDwellings===ge;return[].concat(Object(H.a)(U(te.AddDwelling,e,t)),[{met:!n,text:n?"max dwellings built here":""}])},getDuration:function(){return 20},getName:function(e){return"dwelling"}}),Object(w.a)(K,te.AddSettlement,{text:"raise settlement",beginStateChange:function(e,t,n){return z(ne[te.AddSettlement],function(t){return!(t[e].population<ce)&&t},n)},endStateChange:function(e,t){return z({},J(e,function(e){return{hasSettlement:!0}}))},emoji:"\ud83c\udfe0",finishMessage:function(e,t){return"a settlement was raised in ".concat(e,"!")},cost:ne[te.AddSettlement],validate:function(e,t){return U(te.AddSettlement,e,t,ce)},getDuration:function(){return 40},getName:function(e){return"settlement"}}),Object(w.a)(K,te.AddGarden,{text:"plant garden",beginStateChange:function(e,t,n){return z(ne[te.AddGarden],function(t){return!(t[e].numGardens===pe)&&t},n)},endStateChange:function(e){return z({},J(e,function(e){return{numGardens:e.numGardens+1}}))},emoji:"\ud83e\udd6c",finishMessage:function(e,t){return"a garden was planted in ".concat(e,"!")},cost:ne[te.AddGarden],validate:function(e,t){var n=e.islands[t].numGardens===pe;return[].concat(Object(H.a)(U(te.AddGarden,e,t,5)),[{met:!n,text:n?"max gardens planted here":""}])},getDuration:function(){return 40},getName:function(e){return"garden"}}),Object(w.a)(K,te.AddTemple,{text:"build temple",emoji:"\ud83d\ude4f",beginStateChange:function(e,t,n){return z(ne[te.AddTemple],function(t){return!(t[e].population<5)&&t},n)},endStateChange:function(e){return z({},J(e,function(e){return{hasTemple:!0}}))},cost:ne[te.AddGarden],finishMessage:function(e,t){return"a temple was built in ".concat(e,"!")},validate:function(e,t){return U(te.AddTemple,e,t)},getDuration:function(){return 100},getName:function(e){return"temple"}}),K),ie=function(e){return e[Math.floor(Math.random()*e.length)]},ce=2;function se(e,t){var n=t.population,a=t.resources,r=t.numGardens,o=n>=5,l={wood:x,food:P}[e],i=a.filter(function(e){return e===S.Guano}).length>0;return 0===n?0:a.reduce(function(e,t){var n=A[t]?r:0,a=n>0&&i?2:0;return e+(!T[t]||T[t]&&o?l[t]+n+a:0)},0)}var ue=function(e){return Object.keys(q).reduce(function(t,n){var a=q[n],r=e?e[n]:{};return Object(C.a)({},t,Object(w.a)({},n,Object(C.a)({},a,r)))},{})},de=q.Morrigan.name,me=(ee={},Object(w.a)(ee,te.LaunchOutrigger,2),Object(w.a)(ee,te.LaunchFleet,5),ee),fe={day:1,dayOfWeek:1,weekOfYear:1,season:{Winter:"winter",Spring:"spring",Summer:"summer",Harvest:"harvest"}.Rainy,year:1},he={islands:Object.keys(q).reduce(function(e,t){return Object(C.a)({},e,Object(w.a)({},t,function(e){return{population:0,hasTemple:!1,hasSettlement:!1,isDiscovered:!1,scatterings:[],resources:q[e].resources,numDwellings:0,numTreasures:0,bonusPopulation:0,numGardens:0}}(t)))},{}),player:{wood:0,food:0,wind:0,energy:0},world:fe},ge=5,pe=5;function be(e){var t=e.island,n=t.name,a=t.type,r=t.population,o=t.bonusPopulation,l=t.numTreasures,i=t.numDwellings,c=t.numGardens,s=t.hasSettlement,u=t.hasTemple,d=se("food",t),f=se("wood",t);return m.a.createElement("section",{className:"current-island-info"},m.a.createElement("h3",null,n),"A ",m.a.createElement("b",null,a," island"),m.a.createElement("p",null,m.a.createElement("i",null,L[a])),m.a.createElement("ul",null,m.a.createElement("li",null,m.a.createElement("b",null,function(e){var t=e.hasTemple,n=e.numGardens,a=e.population,r=e.numDwellings;return t&&n===pe&&r===ge?R.Advanced:a===W[e.type]?R.Developed:a>=5?R.Burgeoning:R.Undeveloped}(t))),m.a.createElement("li",null,"Providing ",m.a.createElement("b",null,d)," food, ",m.a.createElement("b",null,f)," materials per day"),s?m.a.createElement("li",null,m.a.createElement("b",null,"has settlement")):null,m.a.createElement("li",null,m.a.createElement("b",null,r),"/",W[a]," ",o>0?m.a.createElement("b",{className:"bonus"},"+",o):null," ","population"),m.a.createElement("li",null,m.a.createElement("b",null,l),"/10 treasures"),m.a.createElement("li",null,m.a.createElement("b",null,i),"/5 dwellings"),m.a.createElement("li",null,m.a.createElement("b",null,c),"/5 gardens"),u?m.a.createElement("li",null,m.a.createElement("b",null,"has temple")):null))}var Oe=n(68);function ve(e){var t=e.children,n=e.actionType,a=e.onActionClicked,r=e.hide,o=e.validate,l=le[n],i=l.emoji,c=l.text,s=o(),u=s.filter(function(e){return e.met}).length===s.length,d=s.length>0?m.a.createElement("ul",{className:"requirements"},s.map(function(e){var t=e.text;return t?m.a.createElement("li",null,t):null})):null;return r?null:m.a.createElement("li",null,i,m.a.createElement(Oe.a,{onClick:a,disabled:!u,styles:function(e){return{root:e.isDisabled?{color:j.Disabled}:{}}}},c),m.a.createElement("div",{className:"island-options-details"},t),d)}function je(e){var t=e.game,n=e.island,a=e.doAction,r=n.name,o=n.hasSettlement;return m.a.createElement("ul",{className:"island-options measure"},m.a.createElement(ve,{actionType:te.SpendEnergy,onActionClicked:function(){a(te.SpendEnergy,r,{})},validate:function(){return le[te.SpendEnergy].validate(t,r,{})}},m.a.createElement("p",null,"Receive a bounty of food and materials from ",r," in exchange for all of your current energy.")),m.a.createElement(ve,{actionType:te.AddSettlement,hide:o,onActionClicked:function(){a(te.AddSettlement,r,{})},validate:function(){return le[te.AddSettlement].validate(t,r,{})}},m.a.createElement("p",null,"Raise a settlement on ",r,". At least ",m.a.createElement("b",null,"2 people")," need to be present on the island."),m.a.createElement("p",null,"A settlement allows new structures to be built and children to be born on the island.")),m.a.createElement(ve,{hide:!o,actionType:te.AddPerson,onActionClicked:function(){a(te.AddPerson,r,{})},validate:function(){return le[te.AddPerson].validate(t,r)}},m.a.createElement("p",null,"Cause a child to be born on ",r,". Uses ",m.a.createElement("b",null,"1 food per day")," after the initial cost."),m.a.createElement("p",null,"You need people to explore other islands, upgrade your development level and harvest certain resources. You need at least on ",r," to get resources from here.")),m.a.createElement(ve,{hide:!o,actionType:te.AddDwelling,onActionClicked:function(){a(te.AddDwelling,r,{})},validate:function(){return le[te.AddDwelling].validate(t,r)}},m.a.createElement("p",null,"Build a dwelling on ",r," to house more people on this island. Up to five dwellings can be built.")),m.a.createElement(ve,{actionType:te.AddGarden,hide:!o,onActionClicked:function(){a(te.AddGarden,r,{})},validate:function(){return le[te.AddGarden].validate(t,r)}},m.a.createElement("p",null,"Plant a garden on ",r," to harvest more bonus food per day. Gardens can only be planted on islands with horticultural resources (",m.a.createElement("b",null,"root vegetables")," and ",m.a.createElement("b",null,"fruit trees"),"). Up to five gardens can be planted.")),m.a.createElement(ve,{hide:!o,actionType:te.AddTemple,onActionClicked:function(){a(te.AddTemple,r,{})},validate:function(){return le[te.AddTemple].validate(t,r)}},m.a.createElement("p",null,"Build a temple to find treasures to increase the prestige of ",r,". Once a temple is built, bonus energy will be received per day.")))}function ye(e){var t=e.island,n=e.islands,a=e.progress,r=e.game,o=e.doAction,l=t.name,i=t.neighbours.filter(function(e){return n[e].population<5&&0===a.items.filter(function(t){return t.destName===e}).length});return m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"voyage-hints"},m.a.createElement("p",{className:"hint-text measure"},m.a.createElement("h5",null,"Outrigger"),"If the destination island is hospitable, it will be populated with the 2 voyagers."),m.a.createElement("p",{className:"hint-text measure"},m.a.createElement("h5",null,"Fleet"),"If the destination island is hospitable, it will be populated with the 5 voyagers. If there are any dispersible resources on this island, one will be chosen at random and transferred to the destination island.")),m.a.createElement("ul",{className:"voyages"},i.map(function(e,t){var a,i=n[e].isDiscovered,c=l,s=q[c].neighbourDistance[e];return m.a.createElement("li",{style:Object(C.a)((a={marginBottom:"1em"},Object(w.a)(a,"marginBottom","1em"),Object(w.a)(a,"paddingTop","1em"),a),t>0?{borderTop:"1px solid ".concat(j.Outline)}:{})},m.a.createElement("h4",null,"Voyage to ",i?e:"an undiscovered land"," -"," ",s," worlds away"," ",i?"(already discovered)":""),m.a.createElement("br",null),m.a.createElement(ve,{actionType:te.LaunchOutrigger,onActionClicked:function(){o(te.LaunchOutrigger,l,{actionType:te.LaunchOutrigger,isBeginning:!1,toName:e,fromName:c})},validate:function(){return le[te.LaunchOutrigger].validate(r,l,{})}}),m.a.createElement(ve,{actionType:te.LaunchFleet,onActionClicked:function(){o(te.LaunchFleet,l,{actionType:te.LaunchFleet,isBeginning:!1,toName:e,fromName:c})},validate:function(){return le[te.LaunchFleet].validate(r,l,{})}}))})))}function Ee(e){var t=e.game,n=e.island,a=e.islands,r=e.player,o=e.world,l=e.doAction,i=e.progress,c=n.type,s=n.name,u=(n.resources,n.isDiscovered),d=m.a.createElement("section",{className:"current-island-options mv2"},m.a.createElement(je,{game:t,island:n,player:r,world:o,doAction:l})),f=m.a.createElement("section",{className:"current-island-expeditions mv2"},m.a.createElement("h4",null,"Voyages from ",s),m.a.createElement(ye,{island:n,islands:a,game:t,progress:i,doAction:l}));return m.a.createElement("div",{className:"current-island mv2"},m.a.createElement("div",{className:"current-island-header"},m.a.createElement("aside",{className:"current-island-illustration"},m.a.createElement("figure",null,m.a.createElement("img",{src:M[c]}))),m.a.createElement(be,{island:n}),m.a.createElement(_,{island:n})),u?d:null,u?f:null)}var we,Se=n(40),Ae=n(41),Te=n.n(Ae),Fe={places:[{id:"a",x:80,y:120,name:"A"},{id:"b",x:200,y:100,name:"B",isActive:!0,isBig:!0},{id:"c",x:150,y:250,name:"C",isBig:!0}],paths:[],baseMarkerOptions:{fill:j.Green,fillStyle:"solid",hachureAngle:65,roughness:2,stroke:0,fillWeight:2,bowing:2},activePlaceOptions:{fill:j.Green,stroke:j.Light,strokeWidth:5},inactivePlaceOptions:{},pathOptions:{},sizes:(we={},Object(w.a)(we,B,5),Object(w.a)(we,k,10),Object(w.a)(we,N,15),Object(w.a)(we,G,20),Object(w.a)(we,D,35),we)};var Pe=function(e){var t=Object(C.a)({},Fe,e),n=t.islands,a=t.paths,r=t.baseMarkerOptions,o=t.activePlaceOptions,l=t.inactivePlaceOptions,i=t.lineOptions,c=t.sizes,s=t.currentIsland,u=-40,f=0,h=r,p=["The Pip","Elder","Father"],b=Object(d.useRef)(null);function O(t){var r=Te.a.svg(t),d=Se(t);Object.values(ue(n)).forEach(function(n){if(n.isDiscovered){var a=function(e){var t=e.name,n=e.x,a=e.y,i=e.type,d=e.markerOptions,m=Object(C.a)({},h,t===s?o:l,d);return r.circle(5*n+u,5*a+f,c[i],m)}(n);t.appendChild(a),function(t){d.link("javascript:;").text(t.name).fill(j.Light).x(5*t.x+u+(-1!==p.indexOf(t.name)?25+c[t.type]:0)).y(5*t.y+f+(-1!==p.indexOf(t.name)?-8:c[t.type]/2+1)).font({family:"Open Sans",size:16,anchor:"middle"}).on("click",function(){e.setCurrentIsland(t.name)})}(n)}}),a.forEach(function(e){var a,o,l=Object(g.a)(e,2),c=l[0],s=l[1],u=(a=n[c],o=n[s],r.line(a.x,a.y,o.x,o.y,Object(C.a)({},h,i,{stroke:j.Light})));t.appendChild(u)})}Object(d.useEffect)(function(){O(b.current)},[b.current]);var v=function(){var e=b.current;if(e){for(;e.lastChild;)e.removeChild(e.lastChild);O(e)}},y=Object.entries(n).map(function(e){var t=Object(g.a)(e,2);return t[0],t[1].isDiscovered});return Object(d.useEffect)(v,y),Object(d.useEffect)(v,[s]),m.a.createElement("svg",{ref:b,className:"map-svg"})},xe=n(28),Ce=2e3;function Be(e,t){var n=Object(d.useState)(he),a=Object(g.a)(n,2),r=a[0],o=a[1],l=Object(d.useState)({"wood\u0394":0,"food\u0394":0,"energy\u0394":0,"wind\u0394":0}),i=Object(g.a)(l,2),c=i[0],s=i[1],u=e.clearOneMessage,m=e.postMessage;Object(d.useEffect)(function(){f(te.LaunchFleet,"Beginning",{toName:de,isBeginning:!0,actionType:te.LaunchFleet})},[]);var f=function(e,n,a){var r=le[e],l=r.beginStateChange,i=r.endStateChange,c=r.finishMessage,s=r.getDuration,u=r.getName;o(l(n,a,function(){t.add(Object(C.a)({},r,{onFinished:function(){o(i(n,a)),m(c(n,a))},actionType:e,duration:s(a),name:u(a),progress:0}))}))};return{gameState:r,doAction:f,tick:function(){var e,n=r.player.wind;o((e=function(e){return s(e)},function(t){var n=t.player,a=t.islands,r=n.wood,o=n.food,l=n.energy,i=n.wind,c=0,s=0,u=1,d=Math.floor(21*Math.random())-10;Object.entries(a).filter(function(e){var t=Object(g.a)(e,2),n=(t[0],t[1]);return n.isDiscovered&&n.population>0}).forEach(function(e){var t=Object(g.a)(e,2),n=(t[0],t[1]);c+=se("food",n),s+=se("wood",n),c-=n.population,u+=n.hasTemple?1:0}),e({"food\u0394":c,"wood\u0394":s,"energy\u0394":u,"wind\u0394":d});var m=r+s,f=o+c,h=l+u,p=Math.min(100,i+d);return Object(C.a)({},t,{player:Object(C.a)({},n,{wood:m<0?0:m,food:f<0?0:f,energy:h<0?0:h,wind:p<0?0:p})})})),o(X()),t.tick(n),u()},deltas:c}}var ke=n(42);function Ne(e){var t=e.qty,n=e.\u0394,a=e.text,r=Object(xe.b)({qty:t,from:{qty:t-n},config:{duration:Ce}});return m.a.createElement("li",null,m.a.createElement("h4",{className:"game-meter-number"},m.a.createElement(xe.a.span,null,r.qty.interpolate(function(e){var t=Math.round(e);return t>=1e3?ke(t).format("0.0a"):t}))," ",function(e){return 0===e?null:m.a.createElement("span",{className:"game-meter-delta",style:{color:e>0?j.Green:"red"}},"".concat(e>0?"+":"").concat(e))}(n))," ",a)}function Ge(e){var t=e.deltas,n=e.player,a=n.wood,r=n.food,o=n.wind,l=n.energy,i=t.wood\u0394,c=t.food\u0394,s=t.energy\u0394,u=t.wind\u0394;return m.a.createElement("section",{className:"game-meters-container"},m.a.createElement("ul",{className:"game-meters"},m.a.createElement(Ne,{qty:r,"\u0394":c,text:"food \ud83e\udd5d"}),m.a.createElement(Ne,{qty:a,"\u0394":i,text:"materials \u2692\ufe0f"}),m.a.createElement(Ne,{qty:l,"\u0394":s,text:"energy \u26a1"}),m.a.createElement(Ne,{qty:o,"\u0394":u,text:"wind \ud83d\udca8"})))}var De=n(69);function Le(e){var t=e.progress.items;return m.a.createElement("section",{className:"journeys-container"},t.length>0?m.a.createElement("ul",null,t.map(function(e){return m.a.createElement(Me,e)})):null)}function Me(e){var t=e.name,n=e.progress,a=e.duration,r=e.actionType,o=e.destName,l=e.text,i=e.emoji,c=Math.round(n/a*100);return m.a.createElement("li",{key:"".concat(r,"-").concat(o)},m.a.createElement(De.a,{className:"progress-status-item",label:"".concat(i," ").concat(l," (").concat(c,"%)"),description:t,percentComplete:n/a}))}function We(e){var t=e.messaging.messages;return m.a.createElement("section",{className:"messages-container"},m.a.createElement("ul",null,t.map(function(e){var t=e.text;return m.a.createElement("li",{key:t},t)})))}function Re(e){var t=e.world,n=t.day,a=(t.dayOfWeek,t.weekOfYear),r=t.year;return m.a.createElement("section",{className:"calendar-container"},m.a.createElement("p",null,"day ".concat(n,", year ").concat(r," (week ").concat(a,"/52)")))}var Ie="0.7",Ye=Ce;Object(p.j)(E),Object(p.h)({typography:{families:{default:"Open Sans"}},fonts:{large:{fontFamily:"Open Sans"},xLarge:{fontFamily:"Open Sans"},xxLarge:{fontFamily:"Open Sans"},superLarge:{fontFamily:"Open Sans"},mega:{fontFamily:"Open Sans"}},palette:{themePrimary:"#5ba9ff",themeLighterAlt:"#04070a",themeLighter:"#0f1b29",themeLight:"#1c334d",themeTertiary:"#376699",themeSecondary:"#5196e0",themeDarkAlt:"#6cb3ff",themeDark:"#83bfff",themeDarker:"#a4d0ff",neutralLighterAlt:"#111157",neutralLighter:"#111155",neutralLight:"#101052",neutralQuaternaryAlt:"#0f0f4c",neutralQuaternary:"#0f0f49",neutralTertiaryAlt:"#0e0e46",neutralTertiary:"#f6f5f5",neutralSecondary:"#f8f6f6",neutralPrimaryAlt:"#f9f8f8",neutralPrimary:"#f3f1f1",neutralDark:"#fcfbfb",black:"#fdfdfd",white:"#121258"}});var Ve=function(){var e=function(){var e=Object(d.useState)([]),t=Object(g.a)(e,2),n=t[0],a=t[1];return{postMessage:function(e){return a(function(t){return[].concat(Object(H.a)(t),[{live:10,text:e}])})},messages:n,clearOneMessage:function(){return a(function(e){return e.filter(function(e){return e.live>0}).map(function(e){return Object(C.a)({},e,{live:e.live-1})})})}}}(),t=function(){var e=Object(d.useState)([]),t=Object(g.a)(e,2),n=t[0],a=t[1];return{items:n,add:function(e){return a(function(t){return[].concat(Object(H.a)(t),[e])})},tick:function(e){n.filter(function(e){return e.progress>=e.duration}).forEach(function(e){e.onFinished(e)}),a(function(t){return t.filter(function(e){return e.progress<e.duration}).map(function(t){t.duration;var n=t.actionType,a=n===te.LaunchFleet||n===te.LaunchOutrigger,r=t.progress+1+(a?.05*e:0);return Object(C.a)({},t,{progress:r>t.duration?t.duration:r})})})}}}(),n=Be(e,t),a=n.gameState,r=n.tick,o=n.doAction,l=n.deltas,i=a.world,c=a.player,s=Object(d.useState)(de),u=Object(g.a)(s,2),f=u[0],h=u[1];!function(e,t){var n=Object(d.useRef)();Object(d.useEffect)(function(){n.current=e},[e]),Object(d.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])}(r,Ye);var p=ue(a.islands);return m.a.createElement(b.a,null,m.a.createElement("main",{className:"game"},m.a.createElement("aside",{className:"left"},m.a.createElement("h2",{className:"title title-subtitle"},"sailsongs of"),m.a.createElement("h1",{className:"title title-title",title:Ie},"scattershell"),m.a.createElement("div",{className:"fixed"},m.a.createElement(Ge,{deltas:l,player:c}),m.a.createElement(Le,{progress:t}),m.a.createElement(We,{messaging:e}),m.a.createElement(Re,{world:i})),m.a.createElement("section",{style:{marginTop:"8em"}},m.a.createElement(Pe,{islands:p,currentIsland:f,setCurrentIsland:h}))),m.a.createElement("section",{className:"right"},m.a.createElement(Ee,{game:a,player:c,island:p[f],islands:p,progress:t,doAction:o}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.render(m.a.createElement(Ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.fc680dfc.chunk.js.map