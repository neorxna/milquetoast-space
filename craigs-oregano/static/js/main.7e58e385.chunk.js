(this["webpackJsonpcraigs-oregano"]=this["webpackJsonpcraigs-oregano"]||[]).push([[0],{31:function(e,t,n){e.exports=n(98)},36:function(e,t,n){},37:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(28),i=n.n(o),u=(n(36),n(37),n(6)),c=n(5),l=n(3),s=n(4),f=n(29);function d(e,t){!function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}(e,Object(f.sample)(t))}var h=function(e){return e[Math.floor(Math.random()*e.length)]},v=function(e,t){return Math.random()*(t-e+1)+e},m={Vulgare:"vulgare",Glandulosum:"glandulosum",Gracile:"gracile",Hirtum:"hirtum",Virens:"virens",Viridulum:"viridulum"},g=n(30),b=window.innerWidth-window.innerWidth/4,O=window.innerHeight-window.innerHeight/4;function j(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(12),i=Object(l.a)(o,2),f=i[0],j=i[1],p=Object(r.useState)((function(){return new s([b,O],b/f)})),w=Object(l.a)(p,2),E=w[0],y=w[1];d((function(){a((function(e){return function(e,t,n){var r=0===t.getAllPoints().length?t.addPoint([b/2,O/2]):t.next(),a=h([!0,!1,!1,!1,!1]),o=v(10,100),i=h([].concat(Object(u.a)(Object.values(m)),[m.Vulgare,m.Vulgare,m.Vulgare])),l=i===m.Vulgare?"#167a40":new g("#167a40").lighten(v(0,.4)).saturate(v(.2,.8));return r?[].concat(Object(u.a)(e),[Object(c.a)({x:100+Math.round(r[0])+v(0,0),y:100+Math.round(r[1])+v(0,0),id:Math.random(),heirloom:a,cultivar:i,jitterX:0,jitterY:0,baseGrowthRate:1e3*v(.2,2),harvestedLeaves:0,leafClusterFactor:o/2,size:o,color:l,harvested:!1},n)]):e}(e,E)}))}),1e3);var M=function(){y((function(){var e=new s([b,O],b/f);return n.filter((function(e){return!e.harvested})).forEach((function(t){var n=t.x,r=t.y;e.addPoint([n,r])})),e}))};Object(r.useEffect)(M,[f]),Object(r.useEffect)(M,[n.filter((function(e){return e.harvested})).length]);var k=n.filter((function(e){return e.heirloom&&e.harvestedLeaves>0})),H=n.reduce((function(e,t){return e+t.harvestedLeaves}),0)+n.filter((function(e){return e.harvested})).length,x=new Set(k.map((function(e){return e.cultivar}))).size,C=n.filter((function(e){return!e.harvested})).length;return{oreganos:n,buyFerts:function(){j((function(e){return e+1}))},bumpHarvestedCount:function(e){a((function(t){return t.map((function(t){return t.id===e?Object(c.a)({},t,{harvestedLeaves:t.harvestedLeaves+1}):t}))}))},clickOregano:function(e){a((function(t){return t.map((function(t){return t.id===e?Object(c.a)({},t,{harvested:!0}):t}))}))},totalHarvested:H,heirloomHarvested:x,totalPlants:C}}function p(e){var t=e.id,n=e.x,o=e.y,i=e.heirloom,f=e.cultivar,h=e.clickOregano,v=e.baseGrowthRate,m=e.bumpHarvestedCount,g=e.leafClusterFactor,b=e.jitterX,O=e.jitterY,j=e.color,p=e.size,w=p,E=Object(r.useState)([]),y=Object(l.a)(E,2),M=y[0],k=y[1],H=Object(r.useState)((function(){return new s([p,p],p/g)})),x=Object(l.a)(H,2),C=x[0],P=x[1],N=Object(r.useState)(v),S=Object(l.a)(N,2),V=S[0],L=S[1];return Object(r.useEffect)((function(){P((function(){var e=new s([p,p],p/4);return M.filter((function(e){return!e.harvested})).forEach((function(t){e.addPoint([t.x,t.y])})),e}))}),[M.filter((function(e){return e.harvested})).length]),Object(r.useEffect)((function(){L((function(e){return e/v+v/2}))}),[M.length]),d((function(){k((function(e){var t=0===C.getAllPoints().length;if(e.filter((function(e){return!e.harvested})).length>=w)return e;var n=t?C.addPoint([p/2,p/2]):C.next();if(null!==n){var r=Math.pow(Math.abs(n[0]),2)+Math.pow(Math.abs(n[1]),2)>Math.pow(p,2),a={x:Math.round(n[0]+b),y:Math.round(n[1]+O),id:Math.random(),heirloom:i};return r?e:[].concat(Object(u.a)(e),[a])}return e}))}),V),a.a.createElement("div",{className:"oregano"+(i?" oregano--heirloom":""),style:{left:n,top:o},"aria-label":"oregano"},M.filter((function(e){return!e.harvested})).map((function(e){return a.a.createElement("div",{className:"oregano-leaf"+(e.heirloom?" oregano--heirloom":""),style:{left:-p/2+e.x,top:-p/2+e.y,backgroundColor:j},title:"Origanum "+f+(i?" (heirloom variety)":""),onClick:function(n){var r;n.preventDefault(),1===M.filter((function(e){return!e.harvested})).length?h(t):(r=e.id,k((function(e){return e.map((function(e){return e.id===r?Object(c.a)({},e,{harvested:!0}):e}))})),m(t),L((function(){return v})))},key:e.id})})))}function w(e){var t=j(),n=t.oreganos,r=t.buyFerts,o=t.bumpHarvestedCount,i=t.clickOregano,u=t.totalHarvested,c=t.heirloomHarvested,l=t.totalPlants;return a.a.createElement("div",{className:"craigs-oregano"},a.a.createElement("div",{className:"oreganos"},n.filter((function(e){return!e.harvested})).map((function(e){return a.a.createElement(p,Object.assign({},e,{clickOregano:i,key:e.id,bumpHarvestedCount:o}))}))),a.a.createElement("div",{className:"info"},a.a.createElement("p",{className:"count"},"total oregano harvested: ",a.a.createElement("b",null,u),a.a.createElement("br",null),"heirloom varieties harvested: ",a.a.createElement("b",null,c),"/",Object.values(m).length," ",a.a.createElement("br",null),a.a.createElement("b",null,l)," plants growing ",a.a.createElement("br",null)),a.a.createElement("p",null,a.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),r()},"aria-label":"apply fertiliser"},"apply fertiliser"))))}var E=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.7e58e385.chunk.js.map